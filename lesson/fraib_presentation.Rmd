---
title: "De l'INSA à l'INRA"
subtitle: "Retour sur quelques années"
date: "16/11/2020"
author: "Rémi Mahmoud"
output:
  xaringan::moon_reader:
    nature:
      highlightLines: true
      highlightSpans: true
      countIncrementalSlides: false
editor_options:
  chunk_output_type: console
---
<style>

.bottom {
  margin: 0;
  position: absolute;
  top: 80%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

@media print {
  .has-continuation {
    display: block !important;
  }
}

.large { font-size: 130% }

.small {font-size: 60% }

remark.macros.scale = function (percentage) {
  var url = this;
  return '<img src="' + url + '" style="width: ' + percentage + '" />';
};

</style>

```{r setup, include=FALSE}
library(knitr)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(cache = TRUE, fig.align = "center", dev = "svg")
options(tibble.print_max = 6, tibble.print_min = 6)

opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())


```

```{r, echo = FALSE}

library(RefManageR)
bib <- ReadBib("presentation/biblio/library_presentation.bib", check = TRUE)

BibOptions(check.entries = FALSE,
           bib.style = "numeric",
           cite.style = 'alphabetic',
           style = "markdown",
           hyperlink = FALSE,
           dashed = FALSE)

ui <- "-"
```



```{css, echo=FALSE}
pre {
  max-width: 100%;
  overflow-x: scroll;
}
```



# Qui parle ?

--

.center[<img src="presentation_figures/mahmoud_photo.jpeg" style="width: 40%" />]

.center[![](presentation_figures/inrae.png)]


---

# Nostalgie



.center[![](presentation_figures/rdd_gm_2018.jpg)]


---


# De quoi va-t-on parler aujourd'hui ?

--

### Statistiques

--

### Un peu de maths 


--

### Thèse / Sciences

--

### Agriculture

--

### Chaînes Youtube utiles

--

> Je vais divaguer entre vie pro et vie personnelle pour vous dire ce qui me semble important

---

### Quelques règles pour la présentation

* N'hésitez pas à me tutoyer

--

* N'hésitez pas à m'interrompre

--

* Présentation intéractive pour casser la distance due à la visio

--

* Présentation moyennement courte (40 slides ~ 1h) pour laisser le temps à des discussions




---

### Semestre ERASMUS à Milan ( Septembre 2017 - Février 2018)

* Beaucoup de travail, mais pas beaucoup de motivation

--

* Beaucoup de temps libre

--

* Apprentissage de l'italien

* Découverte des statistiques bayésiennes (en cours)

* Prise de conscience écologique (liée à la fin de mes études).

--

> Ce que j'ai appris: Toute expérience, même mauvaise, nous construit. 

--

* Candidature pour un PFE à INRAE Toulouse (anciennement INRA)

---

# INRAE, kezako ?

* Qui sait ce qu'est INRAE ?


---

### Institut national de recherche pour l’agriculture, l’alimentation et l’environnement

* 11 000 agents répartis sur 18 centres en France

* Domaines de recherche variés
  + élevage
  + grandes cultures
  + environnement
  + alimentation
  
--

* Domaines transverses
  + Mathématiques (théorie des jeux, graphes, processus stochastiques, statistiques)
  + Génétique
  

.center[<img src="presentation_figures/lombric.jpg" style="width: 30%" />]

  
---

### Focus sur quelques thématiques entre "agriculture" et mathématiques

* Analyse d'images (satellites, robot de phénotypage...)

--

* Analyse, classification de séries temporelles

--


* Modèles de prédiction:
  + rendements
  + attaques de ravageurs
  + maladies
  + etc.


--

* Optimisation, recherche opérationnelle:  échantillonage de mesures optimisé, optimisation pour l'alimentation animale


---

## Exemple du stage proposé aux 5A

### Objectif

* Etudier la consommation en eau de cultures associées

--

* Estimation de la surface foliaire grâce aux images prises par Heliaphen (machine learning, etc.)

.center[<img src="presentation_figures/Heliaphen.jpg" style="width: 50%" />]

--

* Estimation de la consommation en eau grâce aux mesures effectuées par le robot

--

* Comparaison cultures associées / cultures pures




---

### PFE sur les cultures associées

* Occasion de découvrir le travail en institut de recherche: mélange de disciplines, riche partage de connaissances

--

* Leçon d'humilité (y compris en stats). e.g: Modèles mixtes

--

.center[<img src="presentation_figures/mixed_effect_model.png" style="width: 70%" />]

--
* Découverte des concepts de cultures associées, cultures intermédiaires, agriculture de conservation

--
> L'agriculture, c'est bien plus que des oppositions bio/conventionnel

--

> Les agriculteur.ice.s ont des connaissances et des compétences acquises par une connaissance fine de leur terrain




---

### Les statistiques, c'est d'abord beaucoup de nettoyage, de préparation

.center[![](presentation_figures/data_science_80_20.png)]

---

### Mais aussi de visualisation

.center[![](presentation_figures/anscombe_quartet.png)]

---

.center[![](presentation_figures/anscombe_quartet_answer.png)]

---

## Nécessité de poursuivre le travail commencé en stage et de faire une thèse 


> Modéliser la performance de cultures associées: une approche combinant écologie fonctionnelle et science des données

.center[<img src="presentation_figures/wheat_pea.jpg" style="width: 80%" />]

---

## Un peu de contexte

* L'agriculture fait face à de nombreux défis
* Produire (__c'est important !__), mais de manière durable

--

Sans rentrer dans les clichés (ex.:
--

.pull-right[<img src="presentation_figures/intensive.jpg" style="width: 80%" />]

--

De nombreux impacts existent

* Emissions de GES (20-30% du total, CH4, N2O, CO2)
* Erosion des sols
* Fuites de nitrates
* Biodiversité

--

Il existe également des enjeux sociétaux

* Revenus corrects aux agriculteur.ice.s
* Demande sociétale (parfois contradictoire / incohérente)
* etc.



---

## Les cultures associées ( = intercrops en anglais = IC) 

<!-- .small[.center[![](presentation_figures/wheat_pea_crop.JPG)]] -->
.pull-left[<img src="presentation_figures/wheat_pea_crop.JPG" style="width: 120%" />]
.pull-right[<img src="presentation_figures/mais_wheat.JPG" style="width: 1200%" />]

--
<br>

* Un levier pour une agriculture plus durable
* Plusieurs avantages reconnus
  + Rendements plus élevés en contexte bas intrants 
  + Réduction des stress biotiques (pucerons, maladies, adventices)
  
---

### Elles restent cependant peu cultivées

* Verrous socio-économiques
* Manque de connaissances des déterminants de la performance

--

<br>
__Exemple du tri des graines__
.center[<img src="presentation_figures/image_colloque_bedoussac_short.png" style="width: 80%" />]


---

## Une expérimentation en agronomie

.center[<img src="presentation_figures/expe_agro.jpg" style="width: 100%" />]

---
### Ma BDD = Pleins d'expérimentations agronomiques

.center[<img src="presentation_figures/plot_map.png" style="width: 100%" />]



---

## Ecologie: Processus de complémentarité dans les IC céréales-légumineuses

.center[<img src="presentation_figures/interactions_ecological_processes_pres.jpg" style="width: 100%" />]

---


## Questionnement de ma thèse


> Dans quelle mesure peut-on appliquer des théories issues de l'écologie à des écosystèmes cultivés ?


* Comprendre les IC permet d'améliorer leur performance en associant des variétés qui "fonctionnent" bien entre elles

--

* Pour avoir une idée de l'acquisition des ressources, je dispose de mesures de traits fonctionnels

--

.center[<img src="presentation_figures/trait.PNG" style="width: 80%" />]

 

---

### Rôle des traits fonctionnels

Complementarity and plasticity are key processes in ecology that explain the performance of natural communities.

--

Functional traits are a good proxy to reflect these processes.

--

Indicators of complementarity can be quantified by computing difference between traits values.

--

Plasticity can be quantified by computing the variance of the traits between experiments, or between treatments

--

We aim to compute these indicators to predict the performance of IC.


---

## Un exemple avec l'évolution de la hauteur



.center[<img src="presentation_figures/height_IC.png" style="width: 80%" />]

On peut trouver un ajustement de type:

$$ f(t) = A[1+\nu e^{1+\nu + \frac{\mu}{A}(1+\nu)^{1+\frac{1}{\nu}}(\lambda-t)}]^{-\frac{1}{\nu}}$$ 
---

### Un lien entre différence de vitesse de biomasse et rendement

.center[<img src="presentation_figures/plot_lm_pea_slope_b.png" style="width: 80%" />]

---

### Data available and links

<img src="presentation_figures/schema_donnees.jpg" style="width: 100%" />

---

### Mesurer les effets de biodiversité: complémentarité et dominance avec l'équation de Loreau & Hector

On observe une différence de rendement (Y) en IC entre ce qui est obtenu et ce qu'on pourrait s'attendre à obtenir s'il n'y avait pas d'effet de la biodiversité.

--

$$\Delta Y = Y_O - Y_E$$

--
Avec:

* $Y_O = Y_C + Y_L$
* $Y_E = M_C \rho_C  + M_L \rho_L$ 
--

On peut poser 

$RY_{O_i}= \frac{Y_{O_i}}{M_i}$: Rendement relatif observé de l'espèce i (céréale ou légumineuse)
$RY_{E_i}= \rho_i$: Rendement relatif attendu de l'espèce i (céréale ou légumineuse)
$\Delta RY_i = RY_{O_i}- RY_{E_i}$ : Différences entre rendements relatifs pour l'espèce i

---
En IC, on a (modulo quelques manipulations algébriques): 

$\Delta Y = Y_O - Y_E = 2 \times (\text{cov}(\Delta RY, M) + \overline{\Delta RY}  \times \overline M))$

$$= \underbrace{\overline{M}(\frac{Y_C}{M_C} + \frac{Y_L}{M_L} - 1)}_{\text{Effet de complémentarité}} +  \underbrace{\frac{1}{2} \Delta RY \times \Delta M}_{\text{Effet de dominance}}$$


---

### Mes questionnements en ce moment


* Effet de la fertilisation azotée sur ces composantes de la biodiversité
* Effet du mélange d'espèce sur ces effets

--

* Utilisation d'estimation bayésienne de différences de moyennes
  + = Alternative bayésienne au test de Student

---

.center[<img src="presentation_figures/plot_posteriors_all_effects.png" style="width: 100%" />]

---


### Vie pro et vie perso

* A côté de mon travail:

1. Engagé au sein d'Avenir Climatique .pull-right[<img src="presentation_figures/ac_logo.jpg" style="width: 40%" />]

2. Scientifique curieux

--

__Mes centres d'intérêts extra-professionnels ont une influence sur mon travail__:

* Ecologie (militantisme) $\rightarrow$ Domaine de travail "éthique" (même si mal payé, mais en fait largement assez (1400 euros / mois))

--

* Rationnalisme $\rightarrow$ Tentative d'être humble dans les résultats que je montre.

--

* Bayesianisme $\rightarrow$ Utilisation de statistiques bayésiennes au sein de mon travail


---

### Quelques points sur les statistiques bayésiennes (Olivier Gimenez)

https://github.com/oliviergimenez/Bayesian_Workshop


.center[<img src="presentation_figures/bayes.png" style="width: 120%" />]


---

## Rappel rapide sur les probabilités conditionnelles

* $\Pr(A \mid B)$: Probabilité de A sachant B


* $\Pr(A \mid B) = \frac{\Pr(A \text{ and } B)}{\Pr(B)}$


--

## A la recherche de la schtroumpfite (Mr Phi - Théorème de Bayes)

* La proba d'un test positif à la schtroumpfite, sachant que vous êtes effectivement malade est: $\Pr(+|\text{schrtroumpfite}) = 0.99$ (**sensitivity**).

* La proba d'un test vous donnant sain sachant que vous l'êtes est: $\Pr(-|\text{pas schtroumpfite}) = 0.99$ (**specificity**).

--

* Imaginons de plus que la schtroumpfite soit rare et que seulement $0.1\%$ de la population est touchee ( $\Pr(\text{schtroumpfite}) = 0.001$).

---

## Question

Un test vous déclare atteint de schtroumpfite, quelle est la probabilité que vous soyez effectivement malade ?

--

* A: 0-10%
* B: 10-20%
* C: 20-50%
* D: 50-80%
* E: 80-100%


---

### Moralité: Pour avoir des infos sur $\Pr(T \mid D)$, il faut apporter de l'info à priori

__En statistiques, ça change quoi ?__

.center[<img src="presentation_figures/bayes_three_plots.png" style="width: 120%" />]




---

### Un mot sur Avenir Climatique

* Association qui a pour but de sensibiliser sur les enjeux énergie-climat


--

* Exemple de projet: l'Academy


.center[<img src="presentation_figures/academy_saison_5_short.png" style="width: 70%" />]



---


### Quelques contenus qui ont (eu) une influence sur ma vie perso et pro


--

* .pull-left[__Hygiène mentale__: chaîne youtube d'éducation à la pensée critique] .pull-right[<img src="presentation_figures/hygiene_mentale.jpg" style="width: 20%" />]

<br>

<br>
--

* .pull-left[__3 blue 1 brown__: chaîne youtube qui explique des concepts mathématiques avancés (TF, algèbre, théorie des nombres ) avec de superbes animations] .pull-right[<img src="presentation_figures/3blue1brown.jpg" style="width: 20%" />]

--

<br>
<br>
<br>
<br>

* .pull-left[__Science for all__: la chaîne youtube du défenseur du bayésianisme francophone] .pull-right[<img src="presentation_figures/science4all.jpg" style="width: 20%" />]


---

### Quelques contenus qui ont (eu) une influence sur ma vie perso et pro

--


* .pull-left[__Le Réveilleur__: la chaîne youtube de référence sur les problèmatiques environnementales] .pull-right[<img src="presentation_figures/reveilleur.jpg" style="width: 20%" />]


--

<br>
<br>
<br>

* .pull-left[Quelques ingénieurs connus (Jancovici, P. Bihouix, etc.)]


---

### Quelques infos à retenir

* Faire des maths permet de s'approprier une large gamme de disciplines

--

* Il faut être curieux et faire preuve d'esprit critique

--

* Quand on peut (et vous le pouvez), il est important de se poser la question de la finalité de ses activités





---

class: center, middle

# THANKS

.large[(L. Bedoussac et G. Corre-Hellou pour les photos, Camille Nous pour les connaissances, à vous pour l'attention)]

--

.large[Slides créées avec le package `xaringan`.]

--

.large[Remarques, questions ? Discutons si vous le voulez]

--

.large[remi.mahmoud@inrae.fr]



<!-- ### `tidyr::pivot_longer` and `tidyr::pivot_wider` -->



